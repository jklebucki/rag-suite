2025-09-02 21:21:41.849 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:21:41.990 +02:00 [INF] Configuration loaded:
2025-09-02 21:21:41.991 +02:00 [INF]   Source folders: ["C:\\Shares\\Documents","\\\\server\\share\\docs"]
2025-09-02 21:21:42.000 +02:00 [INF]   File extensions: [".pdf",".docx",".xlsx",".pptx",".txt",".csv",".md",".pdf",".docx",".xlsx",".pptx",".txt",".csv",".md"]
2025-09-02 21:21:42.001 +02:00 [INF]   Chunk size: 1200, overlap: 200
2025-09-02 21:21:42.002 +02:00 [INF]   Elasticsearch URL: http://localhost:9200
2025-09-02 21:21:42.003 +02:00 [INF]   Index name: rag-chunks
2025-09-02 21:21:42.003 +02:00 [INF]   Username configured: true
2025-09-02 21:21:42.003 +02:00 [INF]   API key configured: false
2025-09-02 21:21:42.004 +02:00 [INF]   Processing interval: 60 minutes
2025-09-02 21:21:42.020 +02:00 [INF] RAG Collector started
2025-09-02 21:21:42.023 +02:00 [INF] Configured source folders: C:\Shares\Documents, \\server\share\docs
2025-09-02 21:21:42.024 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md, .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:21:42.024 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:21:42.024 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:21:42.024 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:21:42.025 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:21:42.0253290+02:00"
2025-09-02 21:21:42.029 +02:00 [INF] Processing documents (placeholder implementation)
2025-09-02 21:21:42.032 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:21:42.032 +02:00 [INF] Hosting environment: Development
2025-09-02 21:21:42.032 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:21:43.032 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:21:43.0324820+02:00"
2025-09-02 21:21:57.377 +02:00 [INF] Application is shutting down...
2025-09-02 21:21:57.380 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:28:10.676 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:28:10.870 +02:00 [INF] Configuration validation successful
2025-09-02 21:28:10.871 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [C:\Shares\Documents, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md, .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:28:10.881 +02:00 [INF] RAG Collector started
2025-09-02 21:28:10.883 +02:00 [INF] Configured source folders: C:\Shares\Documents, \\server\share\docs
2025-09-02 21:28:10.883 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md, .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:28:10.883 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:28:10.883 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:28:10.883 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:28:10.884 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:28:10.8842610+02:00"
2025-09-02 21:28:10.885 +02:00 [INF] Processing documents (placeholder implementation)
2025-09-02 21:28:10.886 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:28:10.886 +02:00 [INF] Hosting environment: Development
2025-09-02 21:28:10.886 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:28:11.889 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:28:11.8897720+02:00"
2025-09-02 21:31:32.693 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:31:32.814 +02:00 [INF] Configuration validation successful
2025-09-02 21:31:32.815 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [C:\Shares\Documents, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md, .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:31:32.824 +02:00 [INF] RAG Collector started
2025-09-02 21:31:32.826 +02:00 [INF] Configured source folders: C:\Shares\Documents, \\server\share\docs
2025-09-02 21:31:32.826 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md, .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:31:32.826 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:31:32.826 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:31:32.826 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:31:32.827 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:31:32.8276020+02:00"
2025-09-02 21:31:32.828 +02:00 [INF] Processing documents (placeholder implementation)
2025-09-02 21:31:32.829 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:31:32.829 +02:00 [INF] Hosting environment: Development
2025-09-02 21:31:32.829 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:31:33.832 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:31:33.8323740+02:00"
2025-09-02 21:31:48.726 +02:00 [INF] Application is shutting down...
2025-09-02 21:31:48.727 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:32:04.895 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:32:05.016 +02:00 [INF] Configuration validation successful
2025-09-02 21:32:05.017 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [C:\Shares\Documents, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md, .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:32:05.025 +02:00 [INF] RAG Collector started
2025-09-02 21:32:05.027 +02:00 [INF] Configured source folders: C:\Shares\Documents, \\server\share\docs
2025-09-02 21:32:05.027 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md, .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:32:05.028 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:32:05.028 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:32:05.028 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:32:05.028 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:32:05.0288070+02:00"
2025-09-02 21:32:05.029 +02:00 [INF] Processing documents (placeholder implementation)
2025-09-02 21:32:05.030 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:32:05.031 +02:00 [INF] Hosting environment: Development
2025-09-02 21:32:05.031 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:32:06.033 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:32:06.0329480+02:00"
2025-09-02 21:33:20.563 +02:00 [INF] Application is shutting down...
2025-09-02 21:33:20.566 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:33:36.136 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:33:36.251 +02:00 [ERR] Configuration validation failed:
2025-09-02 21:33:36.251 +02:00 [ERR]   At least one source folder must be specified (Properties: SourceFolders)
2025-09-02 21:33:36.252 +02:00 [ERR]   Chunk size must be between 100 and 10000 characters (Properties: ChunkSize)
2025-09-02 21:33:36.252 +02:00 [ERR]   Chunk overlap must be between 0 and 1000 characters (Properties: ChunkOverlap)
2025-09-02 21:33:36.252 +02:00 [ERR]   Elasticsearch URL must be a valid URL (Properties: ElasticsearchUrl)
2025-09-02 21:33:36.252 +02:00 [ERR]   Index name must start with lowercase letter and contain only lowercase letters, numbers, hyphens and underscores (Properties: IndexName)
2025-09-02 21:33:36.252 +02:00 [ERR]   The EmbeddingModelName field is required. (Properties: EmbeddingModelName)
2025-09-02 21:33:36.252 +02:00 [ERR]   Processing interval must be between 1 and 1440 minutes (24 hours) (Properties: ProcessingIntervalMinutes)
2025-09-02 21:33:36.252 +02:00 [ERR]   Bulk batch size must be between 1 and 1000 (Properties: BulkBatchSize)
2025-09-02 21:33:36.252 +02:00 [ERR]   Chunk overlap must be less than chunk size (Properties: ChunkOverlap)
2025-09-02 21:33:36.252 +02:00 [ERR]   Either username/password or API key must be provided for Elasticsearch authentication (Properties: ElasticsearchUsername, ElasticsearchApiKey)
2025-09-02 21:33:36.252 +02:00 [ERR]   File extension 'pdf' must start with a dot (Properties: FileExtensions)
2025-09-02 21:33:36.252 +02:00 [FTL] Application terminated unexpectedly
System.InvalidOperationException: Invalid configuration. See logs for details.
   at Program.<Main>$(String[] args) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Program.cs:line 55
2025-09-02 21:35:13.804 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:35:13.929 +02:00 [INF] Configuration validation successful
2025-09-02 21:35:13.929 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [C:\Shares\Documents, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:35:13.938 +02:00 [INF] RAG Collector started
2025-09-02 21:35:13.940 +02:00 [INF] Configured source folders: C:\Shares\Documents, \\server\share\docs
2025-09-02 21:35:13.940 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:35:13.940 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:35:13.940 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:35:13.940 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:35:13.941 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:35:13.9411810+02:00"
2025-09-02 21:35:13.942 +02:00 [INF] Processing documents (placeholder implementation)
2025-09-02 21:35:13.943 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:35:13.943 +02:00 [INF] Hosting environment: Development
2025-09-02 21:35:13.943 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:35:14.945 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:35:14.9450610+02:00"
2025-09-02 21:35:29.265 +02:00 [INF] Application is shutting down...
2025-09-02 21:35:29.267 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:41:45.377 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:41:45.651 +02:00 [INF] Configuration validation successful
2025-09-02 21:41:45.652 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [./TestData/Documents], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:41:45.660 +02:00 [INF] RAG Collector started
2025-09-02 21:41:45.662 +02:00 [INF] Configured source folders: ./TestData/Documents
2025-09-02 21:41:45.662 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:41:45.663 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:41:45.663 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:41:45.663 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:41:45.663 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:41:45.6638530+02:00"
2025-09-02 21:41:45.666 +02:00 [INF] Starting file enumeration...
2025-09-02 21:41:45.668 +02:00 [INF] Found 3 files to process
2025-09-02 21:41:45.668 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:41:45.668 +02:00 [INF] Hosting environment: Development
2025-09-02 21:41:45.668 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:41:45.668 +02:00 [INF] Enumerating files in folder: ./TestData/Documents
2025-09-02 21:41:45.693 +02:00 [INF] Progress: 3/3 files (100.0%) - 121.5 files/sec
2025-09-02 21:41:45.704 +02:00 [INF] Completed enumeration of folder: ./TestData/Documents, found 3 matching files
2025-09-02 21:41:45.705 +02:00 [INF] File enumeration completed: 3 files in 00:00
2025-09-02 21:41:45.705 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:41:45.7056990+02:00"
2025-09-02 21:42:00.169 +02:00 [INF] Application is shutting down...
2025-09-02 21:42:00.171 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:42:25.361 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:42:25.480 +02:00 [INF] Configuration validation successful
2025-09-02 21:42:25.481 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [./TestData/Documents], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:42:25.489 +02:00 [INF] RAG Collector started
2025-09-02 21:42:25.491 +02:00 [INF] Configured source folders: ./TestData/Documents
2025-09-02 21:42:25.491 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:42:25.491 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:42:25.491 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:42:25.491 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:42:25.492 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:42:25.4926170+02:00"
2025-09-02 21:42:25.495 +02:00 [INF] Starting file enumeration...
2025-09-02 21:42:25.497 +02:00 [INF] Found 3 files to process
2025-09-02 21:42:25.497 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:42:25.497 +02:00 [INF] Enumerating files in folder: ./TestData/Documents
2025-09-02 21:42:25.497 +02:00 [INF] Hosting environment: Development
2025-09-02 21:42:25.497 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:42:25.520 +02:00 [INF] Progress: 3/3 files (100.0%) - 125.8 files/sec
2025-09-02 21:42:25.532 +02:00 [INF] Completed enumeration of folder: ./TestData/Documents, found 3 matching files
2025-09-02 21:42:25.533 +02:00 [INF] File enumeration completed: 3 files in 00:00
2025-09-02 21:42:25.533 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:42:25.5333340+02:00"
2025-09-02 21:42:54.660 +02:00 [INF] Application is shutting down...
2025-09-02 21:42:54.666 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:43:19.662 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:43:19.830 +02:00 [INF] Configuration validation successful
2025-09-02 21:43:19.830 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [./TestData/Documents], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 5, BulkBatchSize: 200 }
2025-09-02 21:43:19.839 +02:00 [INF] RAG Collector started
2025-09-02 21:43:19.841 +02:00 [INF] Configured source folders: ./TestData/Documents
2025-09-02 21:43:19.841 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:43:19.841 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:43:19.841 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:43:19.841 +02:00 [INF] Processing interval: 5 minutes
2025-09-02 21:43:19.842 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:43:19.8424630+02:00"
2025-09-02 21:43:19.845 +02:00 [INF] Starting file enumeration...
2025-09-02 21:43:19.847 +02:00 [INF] Found 3 files to process
2025-09-02 21:43:19.847 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:43:19.847 +02:00 [INF] Hosting environment: Development
2025-09-02 21:43:19.847 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:43:19.847 +02:00 [INF] Enumerating files in folder: ./TestData/Documents
2025-09-02 21:43:19.849 +02:00 [INF] Found file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:39:27)
2025-09-02 21:43:19.861 +02:00 [INF] Found file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:39:21)
2025-09-02 21:43:19.872 +02:00 [INF] Progress: 3/3 files (100.0%) - 117.2 files/sec
2025-09-02 21:43:19.873 +02:00 [INF] Found file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:39:34)
2025-09-02 21:43:19.884 +02:00 [INF] Completed enumeration of folder: ./TestData/Documents, found 3 matching files
2025-09-02 21:43:19.884 +02:00 [INF] File enumeration completed: 3 files in 00:00
2025-09-02 21:43:19.884 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:43:19.8848720+02:00"
2025-09-02 21:43:29.017 +02:00 [INF] Application is shutting down...
2025-09-02 21:43:29.020 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:51:03.969 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:51:04.124 +02:00 [INF] Configuration validation successful
2025-09-02 21:51:04.125 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [C:\Shares\Documents, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:51:04.133 +02:00 [INF] RAG Collector started
2025-09-02 21:51:04.136 +02:00 [INF] Configured source folders: C:\Shares\Documents, \\server\share\docs
2025-09-02 21:51:04.136 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:51:04.136 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:51:04.136 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:51:04.136 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:51:04.137 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:51:04.1370880+02:00"
2025-09-02 21:51:04.139 +02:00 [INF] Starting file enumeration...
2025-09-02 21:51:04.140 +02:00 [WRN] Source folder does not exist for counting: C:\Shares\Documents
2025-09-02 21:51:04.140 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 21:51:04.140 +02:00 [INF] Found 0 files to process
2025-09-02 21:51:04.140 +02:00 [INF] No files found matching the configured criteria
2025-09-02 21:51:04.140 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:51:04.1408560+02:00"
2025-09-02 21:51:04.142 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:51:04.142 +02:00 [INF] Hosting environment: Development
2025-09-02 21:51:04.142 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:51:45.998 +02:00 [INF] Application is shutting down...
2025-09-02 21:51:46.002 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:52:15.679 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:52:15.784 +02:00 [INF] Configuration validation successful
2025-09-02 21:52:15.785 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [C:\Shares\Documents, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 60, BulkBatchSize: 200 }
2025-09-02 21:52:15.794 +02:00 [INF] RAG Collector started
2025-09-02 21:52:15.796 +02:00 [INF] Configured source folders: C:\Shares\Documents, \\server\share\docs
2025-09-02 21:52:15.796 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:52:15.796 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:52:15.796 +02:00 [INF] Index name: rag-chunks
2025-09-02 21:52:15.796 +02:00 [INF] Processing interval: 60 minutes
2025-09-02 21:52:15.797 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:52:15.7974940+02:00"
2025-09-02 21:52:15.799 +02:00 [INF] Starting file enumeration...
2025-09-02 21:52:15.800 +02:00 [WRN] Source folder does not exist for counting: C:\Shares\Documents
2025-09-02 21:52:15.800 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 21:52:15.800 +02:00 [INF] Found 0 files to process
2025-09-02 21:52:15.800 +02:00 [INF] No files found matching the configured criteria
2025-09-02 21:52:15.800 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:52:15.8008860+02:00"
2025-09-02 21:52:15.802 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:52:15.802 +02:00 [INF] Hosting environment: Development
2025-09-02 21:52:15.802 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:52:27.522 +02:00 [INF] Application is shutting down...
2025-09-02 21:52:27.525 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:53:09.444 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:53:09.551 +02:00 [INF] Configuration validation successful
2025-09-02 21:53:09.552 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/test-data, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 21:53:09.560 +02:00 [INF] RAG Collector started
2025-09-02 21:53:09.562 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/test-data, \\server\share\docs
2025-09-02 21:53:09.562 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:53:09.562 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:53:09.562 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 21:53:09.562 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 21:53:09.563 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:53:09.5635590+02:00"
2025-09-02 21:53:09.566 +02:00 [INF] Starting file enumeration...
2025-09-02 21:53:09.566 +02:00 [WRN] Source folder does not exist for counting: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/test-data
2025-09-02 21:53:09.567 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 21:53:09.567 +02:00 [INF] Found 0 files to process
2025-09-02 21:53:09.567 +02:00 [INF] No files found matching the configured criteria
2025-09-02 21:53:09.567 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:53:09.5675290+02:00"
2025-09-02 21:53:09.568 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:53:09.568 +02:00 [INF] Hosting environment: Development
2025-09-02 21:53:09.568 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:53:41.949 +02:00 [INF] Application is shutting down...
2025-09-02 21:53:41.953 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:54:31.075 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:54:31.193 +02:00 [INF] Configuration validation successful
2025-09-02 21:54:31.194 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 21:54:31.202 +02:00 [INF] RAG Collector started
2025-09-02 21:54:31.204 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 21:54:31.204 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:54:31.204 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:54:31.204 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 21:54:31.204 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 21:54:31.205 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:54:31.2057300+02:00"
2025-09-02 21:54:31.208 +02:00 [INF] Starting file enumeration...
2025-09-02 21:54:31.210 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 21:54:31.210 +02:00 [INF] Found 3 files to process
2025-09-02 21:54:31.211 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:54:31.211 +02:00 [INF] Hosting environment: Development
2025-09-02 21:54:31.211 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:54:31.211 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 21:54:31.216 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 21:54:31.216 +02:00 [INF] Found file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44)
2025-09-02 21:54:31.229 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 21:54:31.229 +02:00 [INF] Found file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44)
2025-09-02 21:54:31.240 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 21:54:31.240 +02:00 [INF] Progress: 3/3 files (100.0%) - 99.0 files/sec
2025-09-02 21:54:31.241 +02:00 [INF] Found file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44)
2025-09-02 21:54:31.252 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 3 matching files
2025-09-02 21:54:31.252 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 21:54:31.252 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 21:54:31.252 +02:00 [INF] File enumeration completed: 3 files in 00:00
2025-09-02 21:54:31.253 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:54:31.2532730+02:00"
2025-09-02 21:54:36.900 +02:00 [INF] Application is shutting down...
2025-09-02 21:54:36.903 +02:00 [INF] RAG Collector is stopping
2025-09-02 21:55:16.945 +02:00 [INF] Starting RAG Collector service
2025-09-02 21:55:17.061 +02:00 [INF] Configuration validation successful
2025-09-02 21:55:17.062 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 21:55:17.071 +02:00 [INF] RAG Collector started
2025-09-02 21:55:17.073 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 21:55:17.074 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 21:55:17.074 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 21:55:17.074 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 21:55:17.074 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 21:55:17.074 +02:00 [INF] Starting document collection cycle at "2025-09-02T21:55:17.0749330+02:00"
2025-09-02 21:55:17.077 +02:00 [INF] Starting file enumeration...
2025-09-02 21:55:17.080 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 21:55:17.080 +02:00 [INF] Found 3 files to process
2025-09-02 21:55:17.081 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 21:55:17.082 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 21:55:17.082 +02:00 [INF] Hosting environment: Development
2025-09-02 21:55:17.082 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 21:55:17.085 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 21:55:17.085 +02:00 [INF] Found file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [])
2025-09-02 21:55:17.097 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 21:55:17.097 +02:00 [INF] Found file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [])
2025-09-02 21:55:17.109 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 21:55:17.109 +02:00 [INF] Progress: 3/3 files (100.0%) - 106.2 files/sec
2025-09-02 21:55:17.109 +02:00 [INF] Found file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [])
2025-09-02 21:55:17.120 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 3 matching files
2025-09-02 21:55:17.121 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 21:55:17.121 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 21:55:17.121 +02:00 [INF] File enumeration completed: 3 files in 00:00
2025-09-02 21:55:17.121 +02:00 [INF] Document collection cycle completed at "2025-09-02T21:55:17.1217180+02:00"
2025-09-02 21:55:28.256 +02:00 [INF] Application is shutting down...
2025-09-02 21:55:28.261 +02:00 [INF] RAG Collector is stopping
2025-09-02 22:05:20.731 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:05:20.863 +02:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.Extensions.Hosting.IHostedService Lifetime: Singleton ImplementationType: RAG.Collector.Workers.CollectorWorker': Cannot consume scoped service 'RAG.Collector.ContentExtractors.ContentExtractionService' from singleton 'Microsoft.Extensions.Hosting.IHostedService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.Extensions.Hosting.IHostedService Lifetime: Singleton ImplementationType: RAG.Collector.Workers.CollectorWorker': Cannot consume scoped service 'RAG.Collector.ContentExtractors.ContentExtractionService' from singleton 'Microsoft.Extensions.Hosting.IHostedService'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'RAG.Collector.ContentExtractors.ContentExtractionService' from singleton 'Microsoft.Extensions.Hosting.IHostedService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.<>c__DisplayClass12_0.<.ctor>b__0()
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Program.cs:line 51
2025-09-02 22:07:30.446 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:07:30.585 +02:00 [INF] Configuration validation successful
2025-09-02 22:07:30.586 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 22:07:30.594 +02:00 [INF] RAG Collector started
2025-09-02 22:07:30.596 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 22:07:30.597 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 22:07:30.597 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 22:07:30.597 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 22:07:30.597 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 22:07:30.597 +02:00 [INF] Starting document collection cycle at "2025-09-02T22:07:30.5978710+02:00"
2025-09-02 22:07:30.600 +02:00 [INF] Starting file enumeration...
2025-09-02 22:07:30.601 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 22:07:30.602 +02:00 [INF] Found 4 files to process
2025-09-02 22:07:30.602 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 22:07:30.602 +02:00 [INF] Hosting environment: Development
2025-09-02 22:07:30.602 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 22:07:30.602 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 22:07:30.606 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:07:30.607 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:07:30.610 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:02:28, ACL: [], Content: 405 chars)
2025-09-02 22:07:30.623 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:07:30.623 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:07:30.624 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars)
2025-09-02 22:07:30.635 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:07:30.636 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:07:30.636 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars)
2025-09-02 22:07:30.648 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:07:30.648 +02:00 [INF] Progress: 4/4 files (100.0%) - 86.8 files/sec
2025-09-02 22:07:30.648 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:07:30.649 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars)
2025-09-02 22:07:30.660 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 4 matching files
2025-09-02 22:07:30.660 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 22:07:30.660 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 22:07:30.660 +02:00 [INF] File enumeration completed: 4 files in 00:00
2025-09-02 22:07:30.660 +02:00 [INF] Document collection cycle completed at "2025-09-02T22:07:30.6608570+02:00"
2025-09-02 22:08:02.413 +02:00 [INF] Application is shutting down...
2025-09-02 22:08:02.417 +02:00 [INF] RAG Collector is stopping
2025-09-02 22:14:46.287 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:14:46.420 +02:00 [INF] Configuration validation successful
2025-09-02 22:14:46.421 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 22:14:46.430 +02:00 [INF] RAG Collector started
2025-09-02 22:14:46.432 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 22:14:46.432 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 22:14:46.432 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 22:14:46.432 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 22:14:46.432 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 22:14:46.433 +02:00 [INF] Starting document collection cycle at "2025-09-02T22:14:46.4331630+02:00"
2025-09-02 22:14:46.435 +02:00 [INF] Starting file enumeration...
2025-09-02 22:14:46.438 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 22:14:46.438 +02:00 [INF] Found 4 files to process
2025-09-02 22:14:46.438 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 22:14:46.438 +02:00 [INF] Hosting environment: Development
2025-09-02 22:14:46.439 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 22:14:46.439 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 22:14:46.443 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:14:46.444 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:14:46.448 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:14:46.458 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt into 1 chunks
2025-09-02 22:14:46.458 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:08:21, ACL: [], Content: 405 chars, Chunks: 1)
2025-09-02 22:14:46.470 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:14:46.471 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:14:46.471 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:14:46.472 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt into 1 chunks
2025-09-02 22:14:46.472 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars, Chunks: 1)
2025-09-02 22:14:46.483 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:14:46.484 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:14:46.485 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:14:46.485 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md into 1 chunks
2025-09-02 22:14:46.485 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars, Chunks: 1)
2025-09-02 22:14:46.496 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:14:46.496 +02:00 [INF] Progress: 4/4 files (100.0%) - 68.6 files/sec
2025-09-02 22:14:46.497 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:14:46.497 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:14:46.497 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md into 1 chunks
2025-09-02 22:14:46.497 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars, Chunks: 1)
2025-09-02 22:14:46.508 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 4 matching files
2025-09-02 22:14:46.508 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 22:14:46.508 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 22:14:46.509 +02:00 [INF] File enumeration completed: 4 files in 00:00
2025-09-02 22:14:46.509 +02:00 [INF] Document collection cycle completed at "2025-09-02T22:14:46.5091550+02:00"
2025-09-02 22:15:24.383 +02:00 [INF] Application is shutting down...
2025-09-02 22:15:24.386 +02:00 [INF] RAG Collector is stopping
2025-09-02 22:15:41.800 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:15:41.915 +02:00 [INF] Configuration validation successful
2025-09-02 22:15:41.915 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 22:15:41.923 +02:00 [INF] RAG Collector started
2025-09-02 22:15:41.925 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 22:15:41.925 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 22:15:41.925 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 22:15:41.925 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 22:15:41.925 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 22:15:41.926 +02:00 [INF] Starting document collection cycle at "2025-09-02T22:15:41.9266690+02:00"
2025-09-02 22:15:41.929 +02:00 [INF] Starting file enumeration...
2025-09-02 22:15:41.931 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 22:15:41.931 +02:00 [INF] Found 5 files to process
2025-09-02 22:15:41.932 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 22:15:41.932 +02:00 [INF] Hosting environment: Development
2025-09-02 22:15:41.932 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 22:15:41.932 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 22:15:41.934 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:15:41.935 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:15:41.939 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:15:41.944 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt into 1 chunks
2025-09-02 22:15:41.944 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:08:21, ACL: [], Content: 405 chars, Chunks: 1)
2025-09-02 22:15:41.956 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:15:41.957 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:15:41.957 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:15:41.964 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md into 3 chunks
2025-09-02 22:15:41.964 +02:00 [INF] Processed file: large-document.md (2,572 bytes, .md, Modified: 2025-09-02 20:15:13, ACL: [], Content: 2572 chars, Chunks: 3)
2025-09-02 22:15:41.976 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:15:41.977 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:15:41.977 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:15:41.977 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt into 1 chunks
2025-09-02 22:15:41.977 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars, Chunks: 1)
2025-09-02 22:15:41.988 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:15:41.989 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:15:41.989 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:15:41.989 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md into 1 chunks
2025-09-02 22:15:41.989 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars, Chunks: 1)
2025-09-02 22:15:41.999 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:15:42.000 +02:00 [INF] Progress: 5/5 files (100.0%) - 73.1 files/sec
2025-09-02 22:15:42.000 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:15:42.000 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:15:42.000 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md into 1 chunks
2025-09-02 22:15:42.000 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars, Chunks: 1)
2025-09-02 22:15:42.011 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 5 matching files
2025-09-02 22:15:42.012 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 22:15:42.012 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 22:15:42.012 +02:00 [INF] File enumeration completed: 5 files in 00:00
2025-09-02 22:15:42.012 +02:00 [INF] Document collection cycle completed at "2025-09-02T22:15:42.0125890+02:00"
2025-09-02 22:16:13.380 +02:00 [INF] Application is shutting down...
2025-09-02 22:16:13.384 +02:00 [INF] RAG Collector is stopping
2025-09-02 22:28:01.721 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:28:01.868 +02:00 [INF] Configuration validation successful
2025-09-02 22:28:01.869 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 22:28:01.878 +02:00 [INF] RAG Collector started
2025-09-02 22:28:01.880 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 22:28:01.880 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 22:28:01.881 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 22:28:01.881 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 22:28:01.881 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 22:28:01.881 +02:00 [INF] Starting document collection cycle at "2025-09-02T22:28:01.8818910+02:00"
2025-09-02 22:28:01.884 +02:00 [INF] Starting file enumeration...
2025-09-02 22:28:01.886 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 22:28:01.886 +02:00 [INF] Found 5 files to process
2025-09-02 22:28:01.886 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 22:28:01.886 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 22:28:01.887 +02:00 [INF] Hosting environment: Development
2025-09-02 22:28:01.887 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 22:28:01.890 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:28:01.892 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:28:01.895 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:28:01.904 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt into 1 chunks
2025-09-02 22:28:01.924 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt
2025-09-02 22:28:02.027 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] ProductCheckOnStartup: Took: 00:00:00.0665820
 - [2] ProductCheckSuccess: Node: http://localhost:9200/ Took: 00:00:00.0642910
 - [3] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0157560
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:28:02.028 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:28:02.031 +02:00 [ERR] Unexpected error while generating embedding for chunk 85f8e4a0-eede-42d4-be02-09780913490d
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:28:02.085 +02:00 [WRN] Skipping chunk 85f8e4a0-eede-42d4-be02-09780913490d due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:28:02.085 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:28:02.086 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: 0/1 chunks indexed
2025-09-02 22:28:02.086 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:08:21, ACL: [], Content: 405 chars, Chunks: 1)
2025-09-02 22:28:02.097 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:28:02.097 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:28:02.098 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:28:02.104 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md into 3 chunks
2025-09-02 22:28:02.104 +02:00 [INF] Indexing 3 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md
2025-09-02 22:28:02.109 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0048870
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:28:02.110 +02:00 [INF] Starting batch indexing of 3 chunks
2025-09-02 22:28:02.110 +02:00 [ERR] Unexpected error while generating embedding for chunk 45b0b246-a3e5-4334-a0ee-05bb01dc7025
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:28:02.161 +02:00 [ERR] Unexpected error while generating embedding for chunk 4c3f4775-6682-419a-9d09-4c0679980d26
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:28:02.213 +02:00 [ERR] Unexpected error while generating embedding for chunk 463f8d57-a2ba-46d9-bf4e-ddee1276fd4a
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:28:02.264 +02:00 [WRN] Skipping chunk 45b0b246-a3e5-4334-a0ee-05bb01dc7025 due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:28:02.265 +02:00 [WRN] Skipping chunk 4c3f4775-6682-419a-9d09-4c0679980d26 due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:28:02.265 +02:00 [WRN] Skipping chunk 463f8d57-a2ba-46d9-bf4e-ddee1276fd4a due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:28:02.265 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:28:02.265 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: 0/3 chunks indexed
2025-09-02 22:28:02.265 +02:00 [INF] Processed file: large-document.md (2,572 bytes, .md, Modified: 2025-09-02 20:16:39, ACL: [], Content: 2572 chars, Chunks: 3)
2025-09-02 22:28:02.277 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:28:02.280 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:28:02.282 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:28:02.282 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt into 1 chunks
2025-09-02 22:28:02.284 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt
2025-09-02 22:28:02.291 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0061020
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:28:02.291 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:28:02.291 +02:00 [ERR] Unexpected error while generating embedding for chunk 784c5c87-3649-4d81-9dbc-da68aa7fcd07
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:28:02.343 +02:00 [WRN] Skipping chunk 784c5c87-3649-4d81-9dbc-da68aa7fcd07 due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:28:02.343 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:28:02.343 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: 0/1 chunks indexed
2025-09-02 22:28:02.343 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars, Chunks: 1)
2025-09-02 22:28:02.355 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:28:02.355 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:28:02.356 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:28:02.356 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md into 1 chunks
2025-09-02 22:28:02.356 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md
2025-09-02 22:28:02.363 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0056930
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:28:02.363 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:28:02.363 +02:00 [ERR] Unexpected error while generating embedding for chunk e3828f50-6492-4494-a7df-4b3d2e3f6e4e
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:28:02.415 +02:00 [WRN] Skipping chunk e3828f50-6492-4494-a7df-4b3d2e3f6e4e due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:28:02.415 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:28:02.415 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: 0/1 chunks indexed
2025-09-02 22:28:02.416 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars, Chunks: 1)
2025-09-02 22:28:02.427 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:28:02.427 +02:00 [INF] Progress: 5/5 files (100.0%) - 9.2 files/sec
2025-09-02 22:28:02.428 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:28:02.430 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:28:02.430 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md into 1 chunks
2025-09-02 22:28:02.430 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md
2025-09-02 22:28:02.438 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0068840
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:28:02.438 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:28:02.439 +02:00 [ERR] Unexpected error while generating embedding for chunk b68b929f-e911-4649-84fb-144c94c48324
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:28:02.490 +02:00 [WRN] Skipping chunk b68b929f-e911-4649-84fb-144c94c48324 due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:28:02.491 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:28:02.491 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: 0/1 chunks indexed
2025-09-02 22:28:02.491 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars, Chunks: 1)
2025-09-02 22:28:02.503 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 5 matching files
2025-09-02 22:28:02.504 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 22:28:02.504 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 22:28:02.505 +02:00 [INF] File enumeration completed: 5 files in 00:00
2025-09-02 22:28:02.505 +02:00 [INF] Document collection cycle completed at "2025-09-02T22:28:02.5059090+02:00"
2025-09-02 22:28:32.968 +02:00 [INF] Application is shutting down...
2025-09-02 22:28:32.971 +02:00 [INF] RAG Collector is stopping
2025-09-02 22:37:03.077 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:37:03.245 +02:00 [INF] Configuration validation successful
2025-09-02 22:37:03.245 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingServiceUrl: http://localhost:8580, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 22:37:03.254 +02:00 [INF] RAG Collector started
2025-09-02 22:37:03.257 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 22:37:03.257 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 22:37:03.257 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 22:37:03.257 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 22:37:03.257 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 22:37:03.258 +02:00 [INF] Starting document collection cycle at "2025-09-02T22:37:03.2581300+02:00"
2025-09-02 22:37:03.260 +02:00 [INF] Starting file enumeration...
2025-09-02 22:37:03.262 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 22:37:03.263 +02:00 [INF] Found 5 files to process
2025-09-02 22:37:03.263 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 22:37:03.263 +02:00 [INF] Hosting environment: Development
2025-09-02 22:37:03.263 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 22:37:03.263 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 22:37:03.268 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:03.269 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:03.273 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:03.282 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt into 1 chunks
2025-09-02 22:37:03.301 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt
2025-09-02 22:37:03.396 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] ProductCheckOnStartup: Took: 00:00:00.0655830
 - [2] ProductCheckSuccess: Node: http://localhost:9200/ Took: 00:00:00.0631640
 - [3] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0085120
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:03.396 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:03.400 +02:00 [ERR] Unexpected error while generating embedding for chunk 50de6a8a-23a6-4f35-b282-a6300778ffc5
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:37:03.454 +02:00 [WRN] Skipping chunk 50de6a8a-23a6-4f35-b282-a6300778ffc5 due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:37:03.454 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:03.454 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: 0/1 chunks indexed
2025-09-02 22:37:03.454 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:08:21, ACL: [], Content: 405 chars, Chunks: 1)
2025-09-02 22:37:03.466 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:03.467 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:03.468 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:03.474 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md into 3 chunks
2025-09-02 22:37:03.474 +02:00 [INF] Indexing 3 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md
2025-09-02 22:37:03.478 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0038620
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:03.479 +02:00 [INF] Starting batch indexing of 3 chunks
2025-09-02 22:37:03.479 +02:00 [ERR] Unexpected error while generating embedding for chunk b912d03a-1c2a-48ca-9e4d-4b1e3717f512
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:37:03.529 +02:00 [ERR] Unexpected error while generating embedding for chunk 827de943-0813-4b6e-8589-80ada5d8387f
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:37:03.581 +02:00 [ERR] Unexpected error while generating embedding for chunk 9b2c0914-7b2f-46ec-8d33-ce272324009b
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:37:03.633 +02:00 [WRN] Skipping chunk b912d03a-1c2a-48ca-9e4d-4b1e3717f512 due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:37:03.633 +02:00 [WRN] Skipping chunk 827de943-0813-4b6e-8589-80ada5d8387f due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:37:03.633 +02:00 [WRN] Skipping chunk 9b2c0914-7b2f-46ec-8d33-ce272324009b due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:37:03.633 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:03.633 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: 0/3 chunks indexed
2025-09-02 22:37:03.634 +02:00 [INF] Processed file: large-document.md (2,572 bytes, .md, Modified: 2025-09-02 20:16:39, ACL: [], Content: 2572 chars, Chunks: 3)
2025-09-02 22:37:03.645 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:03.648 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:03.651 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:03.651 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt into 1 chunks
2025-09-02 22:37:03.652 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt
2025-09-02 22:37:03.661 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0075430
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:03.661 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:03.661 +02:00 [ERR] Unexpected error while generating embedding for chunk 65ccbdbc-2451-48b5-9f18-50bf7dbf869a
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:37:03.713 +02:00 [WRN] Skipping chunk 65ccbdbc-2451-48b5-9f18-50bf7dbf869a due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:37:03.713 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:03.713 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: 0/1 chunks indexed
2025-09-02 22:37:03.713 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars, Chunks: 1)
2025-09-02 22:37:03.725 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:03.725 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:03.726 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:03.727 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md into 1 chunks
2025-09-02 22:37:03.727 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md
2025-09-02 22:37:03.734 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0066860
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:03.734 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:03.734 +02:00 [ERR] Unexpected error while generating embedding for chunk 56f870e4-2a52-4c6e-8dcf-d2ea03856baf
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:37:03.786 +02:00 [WRN] Skipping chunk 56f870e4-2a52-4c6e-8dcf-d2ea03856baf due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:37:03.786 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:03.786 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: 0/1 chunks indexed
2025-09-02 22:37:03.786 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars, Chunks: 1)
2025-09-02 22:37:03.798 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:03.799 +02:00 [INF] Progress: 5/5 files (100.0%) - 9.3 files/sec
2025-09-02 22:37:03.800 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:03.801 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:03.802 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md into 1 chunks
2025-09-02 22:37:03.802 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md
2025-09-02 22:37:03.808 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0059900
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:03.808 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:03.809 +02:00 [ERR] Unexpected error while generating embedding for chunk 6aa6432c-76f7-490c-af93-a23acc31eb1a
System.InvalidOperationException: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
   at System.Net.Http.HttpClient.PrepareRequestMessage(HttpRequestMessage request)
   at System.Net.Http.HttpClient.SendAsync(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 55
2025-09-02 22:37:03.860 +02:00 [WRN] Skipping chunk 6aa6432c-76f7-490c-af93-a23acc31eb1a due to embedding failure: Unexpected error: An invalid request URI was provided. Either the request URI must be an absolute URI or BaseAddress must be set.
2025-09-02 22:37:03.861 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:03.861 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: 0/1 chunks indexed
2025-09-02 22:37:03.861 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars, Chunks: 1)
2025-09-02 22:37:03.872 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 5 matching files
2025-09-02 22:37:03.873 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 22:37:03.874 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 22:37:03.874 +02:00 [INF] File enumeration completed: 5 files in 00:00
2025-09-02 22:37:03.875 +02:00 [INF] Document collection cycle completed at "2025-09-02T22:37:03.8749870+02:00"
2025-09-02 22:37:18.925 +02:00 [INF] Application is shutting down...
2025-09-02 22:37:18.929 +02:00 [INF] RAG Collector is stopping
2025-09-02 22:37:49.747 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:37:49.859 +02:00 [INF] Configuration validation successful
2025-09-02 22:37:49.860 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingServiceUrl: http://localhost:8580, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 22:37:49.868 +02:00 [INF] RAG Collector started
2025-09-02 22:37:49.870 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 22:37:49.870 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 22:37:49.870 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 22:37:49.870 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 22:37:49.870 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 22:37:49.871 +02:00 [INF] Starting document collection cycle at "2025-09-02T22:37:49.8712860+02:00"
2025-09-02 22:37:49.873 +02:00 [INF] Starting file enumeration...
2025-09-02 22:37:49.876 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 22:37:49.876 +02:00 [INF] Found 5 files to process
2025-09-02 22:37:49.877 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 22:37:49.877 +02:00 [INF] Hosting environment: Development
2025-09-02 22:37:49.877 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 22:37:49.877 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 22:37:49.879 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:49.880 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:49.884 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:49.889 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt into 1 chunks
2025-09-02 22:37:49.901 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt
2025-09-02 22:37:49.984 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] ProductCheckOnStartup: Took: 00:00:00.0549270
 - [2] ProductCheckSuccess: Node: http://localhost:9200/ Took: 00:00:00.0524020
 - [3] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0073890
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:49.985 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:49.990 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:49.992 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.001 +02:00 [INF] Received HTTP response headers after 8.0982ms - 422
2025-09-02 22:37:50.003 +02:00 [INF] End processing HTTP request after 14.39ms - 422
2025-09-02 22:37:50.003 +02:00 [ERR] HTTP error while generating embedding for chunk bcab7869-a3b4-43a9-9691-b4b6486ebec8
System.Net.Http.HttpRequestException: Response status code does not indicate success: 422 (Unprocessable Entity).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 56
2025-09-02 22:37:50.058 +02:00 [WRN] Skipping chunk bcab7869-a3b4-43a9-9691-b4b6486ebec8 due to embedding failure: HTTP error: Response status code does not indicate success: 422 (Unprocessable Entity).
2025-09-02 22:37:50.058 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:50.058 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: 0/1 chunks indexed
2025-09-02 22:37:50.058 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:08:21, ACL: [], Content: 405 chars, Chunks: 1)
2025-09-02 22:37:50.070 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:50.070 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:50.071 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:50.077 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md into 3 chunks
2025-09-02 22:37:50.077 +02:00 [INF] Indexing 3 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md
2025-09-02 22:37:50.080 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0020940
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:50.080 +02:00 [INF] Starting batch indexing of 3 chunks
2025-09-02 22:37:50.080 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.080 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.081 +02:00 [INF] Received HTTP response headers after 0.6094ms - 422
2025-09-02 22:37:50.081 +02:00 [INF] End processing HTTP request after 0.7905ms - 422
2025-09-02 22:37:50.081 +02:00 [ERR] HTTP error while generating embedding for chunk ecd6f986-de20-4672-a261-1abdd5039ad2
System.Net.Http.HttpRequestException: Response status code does not indicate success: 422 (Unprocessable Entity).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 56
2025-09-02 22:37:50.132 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.132 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.133 +02:00 [INF] Received HTTP response headers after 0.7018ms - 422
2025-09-02 22:37:50.133 +02:00 [INF] End processing HTTP request after 1.043ms - 422
2025-09-02 22:37:50.133 +02:00 [ERR] HTTP error while generating embedding for chunk b41e8b74-fdc7-4f46-9fc8-845f70074afc
System.Net.Http.HttpRequestException: Response status code does not indicate success: 422 (Unprocessable Entity).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 56
2025-09-02 22:37:50.185 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.185 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.186 +02:00 [INF] Received HTTP response headers after 0.9677ms - 422
2025-09-02 22:37:50.187 +02:00 [INF] End processing HTTP request after 1.4925ms - 422
2025-09-02 22:37:50.187 +02:00 [ERR] HTTP error while generating embedding for chunk a8e7f7fa-e122-43e0-908a-7b9e5ff73c3b
System.Net.Http.HttpRequestException: Response status code does not indicate success: 422 (Unprocessable Entity).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 56
2025-09-02 22:37:50.238 +02:00 [WRN] Skipping chunk ecd6f986-de20-4672-a261-1abdd5039ad2 due to embedding failure: HTTP error: Response status code does not indicate success: 422 (Unprocessable Entity).
2025-09-02 22:37:50.238 +02:00 [WRN] Skipping chunk b41e8b74-fdc7-4f46-9fc8-845f70074afc due to embedding failure: HTTP error: Response status code does not indicate success: 422 (Unprocessable Entity).
2025-09-02 22:37:50.238 +02:00 [WRN] Skipping chunk a8e7f7fa-e122-43e0-908a-7b9e5ff73c3b due to embedding failure: HTTP error: Response status code does not indicate success: 422 (Unprocessable Entity).
2025-09-02 22:37:50.238 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:50.238 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: 0/3 chunks indexed
2025-09-02 22:37:50.239 +02:00 [INF] Processed file: large-document.md (2,572 bytes, .md, Modified: 2025-09-02 20:16:39, ACL: [], Content: 2572 chars, Chunks: 3)
2025-09-02 22:37:50.250 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:50.252 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:50.253 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:50.253 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt into 1 chunks
2025-09-02 22:37:50.254 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt
2025-09-02 22:37:50.258 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0031120
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:50.258 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:50.258 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.258 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.259 +02:00 [INF] Received HTTP response headers after 0.7947ms - 422
2025-09-02 22:37:50.259 +02:00 [INF] End processing HTTP request after 1.0924ms - 422
2025-09-02 22:37:50.259 +02:00 [ERR] HTTP error while generating embedding for chunk 86422ba1-afdd-4cd7-b3a2-b8da279509ce
System.Net.Http.HttpRequestException: Response status code does not indicate success: 422 (Unprocessable Entity).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 56
2025-09-02 22:37:50.311 +02:00 [WRN] Skipping chunk 86422ba1-afdd-4cd7-b3a2-b8da279509ce due to embedding failure: HTTP error: Response status code does not indicate success: 422 (Unprocessable Entity).
2025-09-02 22:37:50.311 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:50.311 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: 0/1 chunks indexed
2025-09-02 22:37:50.311 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars, Chunks: 1)
2025-09-02 22:37:50.323 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:50.323 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:50.323 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:50.324 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md into 1 chunks
2025-09-02 22:37:50.324 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md
2025-09-02 22:37:50.330 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0059590
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:50.330 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:50.330 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.331 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.332 +02:00 [INF] Received HTTP response headers after 1.4879ms - 422
2025-09-02 22:37:50.332 +02:00 [INF] End processing HTTP request after 1.8218ms - 422
2025-09-02 22:37:50.332 +02:00 [ERR] HTTP error while generating embedding for chunk b1672d8c-6455-4c45-89a0-737af57b7d28
System.Net.Http.HttpRequestException: Response status code does not indicate success: 422 (Unprocessable Entity).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 56
2025-09-02 22:37:50.384 +02:00 [WRN] Skipping chunk b1672d8c-6455-4c45-89a0-737af57b7d28 due to embedding failure: HTTP error: Response status code does not indicate success: 422 (Unprocessable Entity).
2025-09-02 22:37:50.384 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:50.384 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: 0/1 chunks indexed
2025-09-02 22:37:50.385 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars, Chunks: 1)
2025-09-02 22:37:50.396 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:37:50.396 +02:00 [INF] Progress: 5/5 files (100.0%) - 9.6 files/sec
2025-09-02 22:37:50.397 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:37:50.397 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:37:50.398 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md into 1 chunks
2025-09-02 22:37:50.398 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md
2025-09-02 22:37:50.405 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0068150
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:37:50.406 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:37:50.406 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.406 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embeddings
2025-09-02 22:37:50.408 +02:00 [INF] Received HTTP response headers after 1.5401ms - 422
2025-09-02 22:37:50.408 +02:00 [INF] End processing HTTP request after 2.0425ms - 422
2025-09-02 22:37:50.408 +02:00 [ERR] HTTP error while generating embedding for chunk dc851eff-6516-4f98-8448-6f216d459df8
System.Net.Http.HttpRequestException: Response status code does not indicate success: 422 (Unprocessable Entity).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 56
2025-09-02 22:37:50.460 +02:00 [WRN] Skipping chunk dc851eff-6516-4f98-8448-6f216d459df8 due to embedding failure: HTTP error: Response status code does not indicate success: 422 (Unprocessable Entity).
2025-09-02 22:37:50.460 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 22:37:50.460 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: 0/1 chunks indexed
2025-09-02 22:37:50.460 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars, Chunks: 1)
2025-09-02 22:37:50.472 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 5 matching files
2025-09-02 22:37:50.473 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 22:37:50.473 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 22:37:50.474 +02:00 [INF] File enumeration completed: 5 files in 00:00
2025-09-02 22:37:50.474 +02:00 [INF] Document collection cycle completed at "2025-09-02T22:37:50.4748300+02:00"
2025-09-02 22:38:12.526 +02:00 [INF] Application is shutting down...
2025-09-02 22:38:12.528 +02:00 [INF] RAG Collector is stopping
2025-09-02 22:38:56.695 +02:00 [INF] Starting RAG Collector service
2025-09-02 22:38:56.804 +02:00 [INF] Configuration validation successful
2025-09-02 22:38:56.804 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingServiceUrl: http://localhost:8580, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 22:38:56.813 +02:00 [INF] RAG Collector started
2025-09-02 22:38:56.815 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, \\server\share\docs
2025-09-02 22:38:56.815 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 22:38:56.815 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 22:38:56.816 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 22:38:56.816 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 22:38:56.817 +02:00 [INF] Starting document collection cycle at "2025-09-02T22:38:56.8172300+02:00"
2025-09-02 22:38:56.820 +02:00 [INF] Starting file enumeration...
2025-09-02 22:38:56.822 +02:00 [WRN] Source folder does not exist for counting: \\server\share\docs
2025-09-02 22:38:56.822 +02:00 [INF] Found 5 files to process
2025-09-02 22:38:56.822 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 22:38:56.822 +02:00 [INF] Hosting environment: Development
2025-09-02 22:38:56.822 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 22:38:56.823 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 22:38:56.825 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:38:56.826 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:38:56.830 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:38:56.835 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt into 1 chunks
2025-09-02 22:38:56.849 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt
2025-09-02 22:38:56.929 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] ProductCheckOnStartup: Took: 00:00:00.0540350
 - [2] ProductCheckSuccess: Node: http://localhost:9200/ Took: 00:00:00.0515170
 - [3] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0062190
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 22:38:56.930 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:38:56.934 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:56.936 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:56.992 +02:00 [INF] Received HTTP response headers after 54.8018ms - 200
2025-09-02 22:38:56.993 +02:00 [INF] End processing HTTP request after 60.6295ms - 200
2025-09-02 22:38:57.300 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 22:38:57.300 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 22:38:57.300 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: 0/1 chunks indexed
2025-09-02 22:38:57.300 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:08:21, ACL: [], Content: 405 chars, Chunks: 1)
2025-09-02 22:38:57.312 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:38:57.312 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:38:57.313 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:38:57.319 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md into 3 chunks
2025-09-02 22:38:57.319 +02:00 [INF] Indexing 3 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md
2025-09-02 22:38:57.328 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md
2025-09-02 22:38:57.328 +02:00 [INF] Starting batch indexing of 3 chunks
2025-09-02 22:38:57.328 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.328 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.390 +02:00 [INF] Received HTTP response headers after 62.0888ms - 200
2025-09-02 22:38:57.391 +02:00 [INF] End processing HTTP request after 62.7287ms - 200
2025-09-02 22:38:57.442 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.442 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.501 +02:00 [INF] Received HTTP response headers after 59.2652ms - 200
2025-09-02 22:38:57.502 +02:00 [INF] End processing HTTP request after 59.773ms - 200
2025-09-02 22:38:57.553 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.553 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.578 +02:00 [INF] Received HTTP response headers after 25.0083ms - 200
2025-09-02 22:38:57.578 +02:00 [INF] End processing HTTP request after 25.6201ms - 200
2025-09-02 22:38:57.661 +02:00 [INF] Successfully indexed 0/3 documents in batch
2025-09-02 22:38:57.661 +02:00 [INF] Batch indexing completed: 0/3/3 chunks indexed
2025-09-02 22:38:57.661 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: 0/3 chunks indexed
2025-09-02 22:38:57.661 +02:00 [INF] Processed file: large-document.md (2,572 bytes, .md, Modified: 2025-09-02 20:16:39, ACL: [], Content: 2572 chars, Chunks: 3)
2025-09-02 22:38:57.672 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:38:57.674 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:38:57.675 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:38:57.675 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt into 1 chunks
2025-09-02 22:38:57.677 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt
2025-09-02 22:38:57.682 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt
2025-09-02 22:38:57.682 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:38:57.682 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.682 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.709 +02:00 [INF] Received HTTP response headers after 26.579ms - 200
2025-09-02 22:38:57.709 +02:00 [INF] End processing HTTP request after 27.0806ms - 200
2025-09-02 22:38:57.770 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 22:38:57.770 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 22:38:57.770 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: 0/1 chunks indexed
2025-09-02 22:38:57.770 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars, Chunks: 1)
2025-09-02 22:38:57.782 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:38:57.782 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:38:57.782 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:38:57.783 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md into 1 chunks
2025-09-02 22:38:57.783 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md
2025-09-02 22:38:57.790 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md
2025-09-02 22:38:57.790 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:38:57.790 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.790 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.833 +02:00 [INF] Received HTTP response headers after 42.3182ms - 200
2025-09-02 22:38:57.833 +02:00 [INF] End processing HTTP request after 42.8682ms - 200
2025-09-02 22:38:57.894 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 22:38:57.894 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 22:38:57.894 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: 0/1 chunks indexed
2025-09-02 22:38:57.895 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars, Chunks: 1)
2025-09-02 22:38:57.905 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 22:38:57.906 +02:00 [INF] Progress: 5/5 files (100.0%) - 4.6 files/sec
2025-09-02 22:38:57.906 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 22:38:57.906 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 22:38:57.906 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md into 1 chunks
2025-09-02 22:38:57.906 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md
2025-09-02 22:38:57.911 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md
2025-09-02 22:38:57.911 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 22:38:57.912 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.912 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 22:38:57.940 +02:00 [INF] Received HTTP response headers after 28.4932ms - 200
2025-09-02 22:38:57.941 +02:00 [INF] End processing HTTP request after 29.0079ms - 200
2025-09-02 22:38:58.003 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 22:38:58.003 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 22:38:58.003 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: 0/1 chunks indexed
2025-09-02 22:38:58.003 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars, Chunks: 1)
2025-09-02 22:38:58.014 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 5 matching files
2025-09-02 22:38:58.015 +02:00 [INF] Enumerating files in folder: \\server\share\docs
2025-09-02 22:38:58.015 +02:00 [WRN] Source folder does not exist: \\server\share\docs
2025-09-02 22:38:58.016 +02:00 [INF] File enumeration completed: 5 files in 00:01
2025-09-02 22:38:58.016 +02:00 [INF] Document collection cycle completed at "2025-09-02T22:38:58.0164240+02:00"
2025-09-02 22:39:18.943 +02:00 [INF] Application is shutting down...
2025-09-02 22:39:18.946 +02:00 [INF] RAG Collector is stopping
2025-09-02 23:59:40.582 +02:00 [INF] Starting RAG Collector service
2025-09-02 23:59:40.705 +02:00 [INF] Configuration validation successful
2025-09-02 23:59:40.706 +02:00 [INF] Configuration: CollectorOptions { SourceFolders: [/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, /Users/jklebucki/Projects/rag-suite/data/documents], FileExtensions: [.pdf, .docx, .xlsx, .pptx, .txt, .csv, .md], ChunkSize: 1200, ChunkOverlap: 200, ElasticsearchUrl: http://localhost:9200, HasUsername: True, HasPassword: True, HasApiKey: False, AllowSelfSignedCert: False, IndexName: rag-chunks-dev, EmbeddingServiceUrl: http://localhost:8580, EmbeddingModelName: intfloat/multilingual-e5-small, ProcessingIntervalMinutes: 1, BulkBatchSize: 50 }
2025-09-02 23:59:40.714 +02:00 [INF] RAG Collector started
2025-09-02 23:59:40.716 +02:00 [INF] Configured source folders: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, /Users/jklebucki/Projects/rag-suite/data/documents
2025-09-02 23:59:40.716 +02:00 [INF] File extensions: .pdf, .docx, .xlsx, .pptx, .txt, .csv, .md
2025-09-02 23:59:40.716 +02:00 [INF] Elasticsearch URL: http://localhost:9200
2025-09-02 23:59:40.716 +02:00 [INF] Index name: rag-chunks-dev
2025-09-02 23:59:40.716 +02:00 [INF] Processing interval: 1 minutes
2025-09-02 23:59:40.717 +02:00 [INF] Starting document collection cycle at "2025-09-02T23:59:40.7170730+02:00"
2025-09-02 23:59:40.719 +02:00 [INF] Starting file enumeration...
2025-09-02 23:59:40.721 +02:00 [INF] Found 9 files to process
2025-09-02 23:59:40.722 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-02 23:59:40.722 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData
2025-09-02 23:59:40.722 +02:00 [INF] Hosting environment: Development
2025-09-02 23:59:40.722 +02:00 [INF] Content root path: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector
2025-09-02 23:59:40.725 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:40.727 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:40.730 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:40.735 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt into 1 chunks
2025-09-02 23:59:40.750 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt
2025-09-02 23:59:40.832 +02:00 [ERR] Failed to delete documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: Unsuccessful (404) low level call on POST: /rag-chunks-dev/_delete_by_query
# Audit trail of this API call:
 - [1] ProductCheckOnStartup: Took: 00:00:00.0533540
 - [2] ProductCheckSuccess: Node: http://localhost:9200/ Took: 00:00:00.0509120
 - [3] BadResponse: Node: http://localhost:9200/ Took: 00:00:00.0093700
# OriginalException: Elasticsearch.Net.ElasticsearchClientException: Request failed to execute. Call: Status code 404 from: POST /rag-chunks-dev/_delete_by_query. ServerError: Type: index_not_found_exception Reason: "no such index [rag-chunks-dev]"
# Request:
{"query":{"term":{"sourceFile":{"value":"/Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt"}}}}
# Response:
{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"}],"type":"index_not_found_exception","reason":"no such index [rag-chunks-dev]","resource.type":"index_or_alias","resource.id":"rag-chunks-dev","index_uuid":"_na_","index":"rag-chunks-dev"},"status":404}

2025-09-02 23:59:40.833 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 23:59:40.837 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:40.839 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:40.872 +02:00 [INF] Received HTTP response headers after 31.6092ms - 200
2025-09-02 23:59:40.873 +02:00 [INF] End processing HTTP request after 38.1289ms - 200
2025-09-02 23:59:41.043 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 23:59:41.043 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 23:59:41.043 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/sample-pdf.txt: 0/1 chunks indexed
2025-09-02 23:59:41.043 +02:00 [INF] Processed file: sample-pdf.txt (405 bytes, .txt, Modified: 2025-09-02 20:08:21, ACL: [], Content: 405 chars, Chunks: 1)
2025-09-02 23:59:41.054 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.055 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.055 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.063 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md into 3 chunks
2025-09-02 23:59:41.063 +02:00 [INF] Indexing 3 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md
2025-09-02 23:59:41.069 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md
2025-09-02 23:59:41.069 +02:00 [INF] Starting batch indexing of 3 chunks
2025-09-02 23:59:41.069 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.069 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.130 +02:00 [INF] Received HTTP response headers after 60.9988ms - 200
2025-09-02 23:59:41.131 +02:00 [INF] End processing HTTP request after 61.4723ms - 200
2025-09-02 23:59:41.182 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.183 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.235 +02:00 [INF] Received HTTP response headers after 52.5543ms - 200
2025-09-02 23:59:41.236 +02:00 [INF] End processing HTTP request after 53.2395ms - 200
2025-09-02 23:59:41.287 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.287 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.307 +02:00 [INF] Received HTTP response headers after 19.4151ms - 200
2025-09-02 23:59:41.307 +02:00 [INF] End processing HTTP request after 20.1689ms - 200
2025-09-02 23:59:41.369 +02:00 [INF] Successfully indexed 0/3 documents in batch
2025-09-02 23:59:41.369 +02:00 [INF] Batch indexing completed: 0/3/3 chunks indexed
2025-09-02 23:59:41.369 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/large-document.md: 0/3 chunks indexed
2025-09-02 23:59:41.369 +02:00 [INF] Processed file: large-document.md (2,572 bytes, .md, Modified: 2025-09-02 20:16:39, ACL: [], Content: 2572 chars, Chunks: 3)
2025-09-02 23:59:41.381 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.383 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.384 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.384 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt into 1 chunks
2025-09-02 23:59:41.386 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt
2025-09-02 23:59:41.389 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt
2025-09-02 23:59:41.390 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 23:59:41.390 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.390 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.408 +02:00 [INF] Received HTTP response headers after 17.66ms - 200
2025-09-02 23:59:41.408 +02:00 [INF] End processing HTTP request after 18.1604ms - 200
2025-09-02 23:59:41.467 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 23:59:41.467 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 23:59:41.467 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-2.txt: 0/1 chunks indexed
2025-09-02 23:59:41.467 +02:00 [INF] Processed file: test-document-2.txt (157 bytes, .txt, Modified: 2025-09-02 19:44:44, ACL: [], Content: 157 chars, Chunks: 1)
2025-09-02 23:59:41.479 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.479 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.480 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.480 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md into 1 chunks
2025-09-02 23:59:41.480 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md
2025-09-02 23:59:41.485 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md
2025-09-02 23:59:41.485 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 23:59:41.486 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.486 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.518 +02:00 [INF] Received HTTP response headers after 31.9921ms - 200
2025-09-02 23:59:41.518 +02:00 [INF] End processing HTTP request after 32.6173ms - 200
2025-09-02 23:59:41.581 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 23:59:41.581 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 23:59:41.582 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/test-document-1.md: 0/1 chunks indexed
2025-09-02 23:59:41.582 +02:00 [INF] Processed file: test-document-1.md (329 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 329 chars, Chunks: 1)
2025-09-02 23:59:41.592 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.593 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.593 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.593 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md into 1 chunks
2025-09-02 23:59:41.593 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md
2025-09-02 23:59:41.600 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md
2025-09-02 23:59:41.600 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 23:59:41.600 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.600 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.625 +02:00 [INF] Received HTTP response headers after 24.9894ms - 200
2025-09-02 23:59:41.626 +02:00 [INF] End processing HTTP request after 25.4832ms - 200
2025-09-02 23:59:41.692 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 23:59:41.692 +02:00 [INF] Batch indexing completed: 0/1/1 chunks indexed
2025-09-02 23:59:41.693 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData/Documents/Subfolder/subfolder-doc.md: 0/1 chunks indexed
2025-09-02 23:59:41.693 +02:00 [INF] Processed file: subfolder-doc.md (230 bytes, .md, Modified: 2025-09-02 19:44:44, ACL: [], Content: 230 chars, Chunks: 1)
2025-09-02 23:59:41.704 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/TestData, found 5 matching files
2025-09-02 23:59:41.705 +02:00 [INF] Enumerating files in folder: /Users/jklebucki/Projects/rag-suite/data/documents
2025-09-02 23:59:41.705 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.705 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.706 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.706 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/data/documents/api-documentation.md into 1 chunks
2025-09-02 23:59:41.706 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/data/documents/api-documentation.md
2025-09-02 23:59:41.710 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/data/documents/api-documentation.md
2025-09-02 23:59:41.710 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 23:59:41.710 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.710 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.715 +02:00 [INF] Received HTTP response headers after 4.9105ms - 413
2025-09-02 23:59:41.716 +02:00 [INF] End processing HTTP request after 5.6769ms - 413
2025-09-02 23:59:41.717 +02:00 [ERR] HTTP error while generating embedding for chunk 89822eef-1be3-428b-ad84-1c42e36f53df
System.Net.Http.HttpRequestException: Response status code does not indicate success: 413 (Payload Too Large).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 51
2025-09-02 23:59:41.773 +02:00 [WRN] Skipping chunk 89822eef-1be3-428b-ad84-1c42e36f53df due to embedding failure: HTTP error: Response status code does not indicate success: 413 (Payload Too Large).
2025-09-02 23:59:41.773 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 23:59:41.773 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/data/documents/api-documentation.md: 0/1 chunks indexed
2025-09-02 23:59:41.773 +02:00 [INF] Processed file: api-documentation.md (1,008 bytes, .md, Modified: 2025-08-31 14:34:06, ACL: [], Content: 1008 chars, Chunks: 1)
2025-09-02 23:59:41.785 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.785 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.785 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.786 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/data/documents/rag-introduction.md into 2 chunks
2025-09-02 23:59:41.786 +02:00 [INF] Indexing 2 chunks from file: /Users/jklebucki/Projects/rag-suite/data/documents/rag-introduction.md
2025-09-02 23:59:41.790 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/data/documents/rag-introduction.md
2025-09-02 23:59:41.790 +02:00 [INF] Starting batch indexing of 2 chunks
2025-09-02 23:59:41.790 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.790 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.795 +02:00 [INF] Received HTTP response headers after 4.6972ms - 413
2025-09-02 23:59:41.795 +02:00 [INF] End processing HTTP request after 5.1482ms - 413
2025-09-02 23:59:41.796 +02:00 [ERR] HTTP error while generating embedding for chunk 86611418-5988-481f-964f-d1c56d23a7ab
System.Net.Http.HttpRequestException: Response status code does not indicate success: 413 (Payload Too Large).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 51
2025-09-02 23:59:41.847 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.847 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.851 +02:00 [INF] Received HTTP response headers after 3.5815ms - 413
2025-09-02 23:59:41.851 +02:00 [INF] End processing HTTP request after 4.0847ms - 413
2025-09-02 23:59:41.851 +02:00 [ERR] HTTP error while generating embedding for chunk c598d47e-5886-425d-89b3-5cc2d04a55f0
System.Net.Http.HttpRequestException: Response status code does not indicate success: 413 (Payload Too Large).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 51
2025-09-02 23:59:41.902 +02:00 [WRN] Skipping chunk 86611418-5988-481f-964f-d1c56d23a7ab due to embedding failure: HTTP error: Response status code does not indicate success: 413 (Payload Too Large).
2025-09-02 23:59:41.903 +02:00 [WRN] Skipping chunk c598d47e-5886-425d-89b3-5cc2d04a55f0 due to embedding failure: HTTP error: Response status code does not indicate success: 413 (Payload Too Large).
2025-09-02 23:59:41.903 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 23:59:41.903 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/data/documents/rag-introduction.md: 0/2 chunks indexed
2025-09-02 23:59:41.903 +02:00 [INF] Processed file: rag-introduction.md (2,116 bytes, .md, Modified: 2025-08-24 21:03:59, ACL: [], Content: 2059 chars, Chunks: 2)
2025-09-02 23:59:41.915 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.915 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.915 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.915 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/data/documents/company-policies.txt into 1 chunks
2025-09-02 23:59:41.915 +02:00 [INF] Indexing 1 chunks from file: /Users/jklebucki/Projects/rag-suite/data/documents/company-policies.txt
2025-09-02 23:59:41.919 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/data/documents/company-policies.txt
2025-09-02 23:59:41.919 +02:00 [INF] Starting batch indexing of 1 chunks
2025-09-02 23:59:41.919 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.920 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.924 +02:00 [INF] Received HTTP response headers after 4.1839ms - 413
2025-09-02 23:59:41.924 +02:00 [INF] End processing HTTP request after 4.5324ms - 413
2025-09-02 23:59:41.924 +02:00 [ERR] HTTP error while generating embedding for chunk 83118c4d-03a5-4923-9a9b-5db244e5caee
System.Net.Http.HttpRequestException: Response status code does not indicate success: 413 (Payload Too Large).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 51
2025-09-02 23:59:41.975 +02:00 [WRN] Skipping chunk 83118c4d-03a5-4923-9a9b-5db244e5caee due to embedding failure: HTTP error: Response status code does not indicate success: 413 (Payload Too Large).
2025-09-02 23:59:41.975 +02:00 [WRN] No chunks could be processed - all embedding generation failed
2025-09-02 23:59:41.975 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/data/documents/company-policies.txt: 0/1 chunks indexed
2025-09-02 23:59:41.976 +02:00 [INF] Processed file: company-policies.txt (907 bytes, .txt, Modified: 2025-08-31 14:34:06, ACL: [], Content: 877 chars, Chunks: 1)
2025-09-02 23:59:41.987 +02:00 [WRN] ACL resolution is not supported on this platform
2025-09-02 23:59:41.987 +02:00 [INF] Progress: 9/9 files (100.0%) - 7.1 files/sec
2025-09-02 23:59:41.988 +02:00 [INF] Content extraction service initialized with 3 extractors supporting 12 file types
2025-09-02 23:59:41.988 +02:00 [INF] Chunking service initialized with 7 chunkers supporting 7 content types
2025-09-02 23:59:41.989 +02:00 [INF] Successfully chunked file: /Users/jklebucki/Projects/rag-suite/data/documents/elasticsearch-rag.md into 3 chunks
2025-09-02 23:59:41.989 +02:00 [INF] Indexing 3 chunks from file: /Users/jklebucki/Projects/rag-suite/data/documents/elasticsearch-rag.md
2025-09-02 23:59:41.993 +02:00 [INF] Deleted 0 documents for source file /Users/jklebucki/Projects/rag-suite/data/documents/elasticsearch-rag.md
2025-09-02 23:59:41.993 +02:00 [INF] Starting batch indexing of 3 chunks
2025-09-02 23:59:41.993 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:41.994 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:42.001 +02:00 [INF] Received HTTP response headers after 7.279ms - 413
2025-09-02 23:59:42.001 +02:00 [INF] End processing HTTP request after 7.5894ms - 413
2025-09-02 23:59:42.001 +02:00 [ERR] HTTP error while generating embedding for chunk ad2eca72-e4fd-4f52-9b92-1d84861d6e3b
System.Net.Http.HttpRequestException: Response status code does not indicate success: 413 (Payload Too Large).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 51
2025-09-02 23:59:42.053 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:42.053 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:42.056 +02:00 [INF] Received HTTP response headers after 2.2464ms - 413
2025-09-02 23:59:42.056 +02:00 [INF] End processing HTTP request after 2.8897ms - 413
2025-09-02 23:59:42.056 +02:00 [ERR] HTTP error while generating embedding for chunk a2ee4e68-ccbf-4b9c-b57b-14266a782e20
System.Net.Http.HttpRequestException: Response status code does not indicate success: 413 (Payload Too Large).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at RAG.Collector.Embeddings.HttpEmbeddingProvider.GenerateEmbeddingAsync(TextChunk chunk, CancellationToken cancellationToken) in /Users/jklebucki/Projects/rag-suite/src/RAG.Collector/Embeddings/HttpEmbeddingProvider.cs:line 51
2025-09-02 23:59:42.107 +02:00 [INF] Start processing HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:42.108 +02:00 [INF] Sending HTTP request POST http://localhost:8580/embed
2025-09-02 23:59:42.156 +02:00 [INF] Received HTTP response headers after 47.9035ms - 200
2025-09-02 23:59:42.156 +02:00 [INF] End processing HTTP request after 48.7725ms - 200
2025-09-02 23:59:42.208 +02:00 [WRN] Skipping chunk ad2eca72-e4fd-4f52-9b92-1d84861d6e3b due to embedding failure: HTTP error: Response status code does not indicate success: 413 (Payload Too Large).
2025-09-02 23:59:42.208 +02:00 [WRN] Skipping chunk a2ee4e68-ccbf-4b9c-b57b-14266a782e20 due to embedding failure: HTTP error: Response status code does not indicate success: 413 (Payload Too Large).
2025-09-02 23:59:42.215 +02:00 [INF] Successfully indexed 0/1 documents in batch
2025-09-02 23:59:42.215 +02:00 [INF] Batch indexing completed: 0/1/3 chunks indexed
2025-09-02 23:59:42.215 +02:00 [INF] Completed indexing file /Users/jklebucki/Projects/rag-suite/data/documents/elasticsearch-rag.md: 0/3 chunks indexed
2025-09-02 23:59:42.216 +02:00 [INF] Processed file: elasticsearch-rag.md (2,370 bytes, .md, Modified: 2025-08-24 21:03:59, ACL: [], Content: 2336 chars, Chunks: 3)
2025-09-02 23:59:42.227 +02:00 [INF] Completed enumeration of folder: /Users/jklebucki/Projects/rag-suite/data/documents, found 4 matching files
2025-09-02 23:59:42.227 +02:00 [INF] File enumeration completed: 9 files in 00:01
2025-09-02 23:59:42.227 +02:00 [INF] Document collection cycle completed at "2025-09-02T23:59:42.2278380+02:00"
